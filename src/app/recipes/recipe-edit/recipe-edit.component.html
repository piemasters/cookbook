<div class="row">
  <div class="col-xs col-sm-10 col-md-8 offset-sm-1 offset-md-2">
    <form [formGroup]="recipeForm" action="" (ngSubmit)="onSubmit()">
      <div class="row">
        <div class="col-xs-12">
          <button type="submit" class="btn btn-success" [disabled]="!recipeForm.valid">Save</button>
          <button type="button" class="btn btn-danger" (click)="onCancel()">Cancel</button>
        </div>
      </div>

      <div class="row">
        <div class="col-xs-12">
          <label for="name">Name</label>
          <input type="text" id="name" class="form-control" formControlName="name">
        </div>
      </div>

      <div class="row">
        <div class="col-xs-12">
          <label for="headline">Headline</label>
          <input type="text" id="headline" class="form-control" formControlName="headline">
        </div>
      </div>

      <div class="row">
        <div class="col-xs-12">
          <label for="imagePath">Image URL</label>
          <input type="text" id="imagePath" class="form-control" formControlName="imagePath" #imagePath>
        </div>
      </div>
      <div class="row">
        <div class="col-xs-12">
          <img [src]="imagePath.value" alt="" class="img-responsive headline-image">
        </div>
      </div>

      {{imagePath.value}}

      <div class="row">
        <div class="col-xs-12">
          <label for="description">Description</label>
          <textarea type="text" id="description" class="form-control" rows="6" formControlName="description"></textarea>
        </div>
      </div>

      <div class="row">
        <div class="col-xs-12">
          <label for="totalTime">Total Time</label>
          <input type="number" id="totalTime" class="form-control" formControlName="totalTime">
        </div>
      </div>

      <div class="row">
        <div class="col-xs-12">
          <label for="servingSize">Serving Size</label>
          <input type="number" id="servingSize" class="form-control" formControlName="servingSize">
        </div>
      </div>

      <div class="row">
        <div class="col-xs-12" formArrayName="nutrition">
          <div class="row" *ngFor="let nutritionCtrl of formNutrition.controls; let i = index" [formGroupName]="i" style="margin-top: 10px;">
            <div class="col-xs-8">
              <input type="text" class="form-control" formControlName="name">
            </div>
            <div class="col-xs-2">
              <input type="number" class="form-control" formControlName="value">
            </div>
            <div class="col-xs-3">
              <button class="btn btn-danger" type="button" (click)="onDeleteNutrition(i)">X</button>
            </div>
          </div>
          <hr>
          <div class="row">
            <div class="col-xs-12">
              <button class="btn btn-success" (click)="onAddNutrition()" type="button">Add nutrition</button>
            </div>
          </div>
        </div>
      </div>

      <div class="row">
        <div class="col-xs-12" formArrayName="allergens">
          <div class="row" *ngFor="let allergenCtrl of formAllergens.controls; let i = index" [formGroupName]="i" style="margin-top: 10px;">
            <div class="col-xs-8">
              <input type="text" class="form-control" formControlName="name">
            </div>
            <div class="col-xs-2">
              <input type="number" class="form-control" formControlName="value">
            </div>
            <div class="col-xs-3">
              <button class="btn btn-danger" type="button" (click)="onDeleteAllergen(i)">X</button>
            </div>
          </div>
          <hr>
          <div class="row">
            <div class="col-xs-12">
              <button class="btn btn-success" (click)="onAddAllergen()" type="button">Add allergen</button>
            </div>
          </div>
        </div>
      </div>

      <div class="row">
        <div class="col-xs-12" formArrayName="tags">
          <div class="row" *ngFor="let tagCtrl of formTags.controls; let i = index" [formGroupName]="i" style="margin-top: 10px;">
            <div class="col-xs-8">
              <input type="text" class="form-control" formControlName="name">
            </div>
            <div class="col-xs-2">
              <input type="number" class="form-control" formControlName="value">
            </div>
            <div class="col-xs-3">
              <button class="btn btn-danger" type="button" (click)="onDeleteTag(i)">X</button>
            </div>
          </div>
          <hr>
          <div class="row">
            <div class="col-xs-12">
              <button class="btn btn-success" (click)="onAddTag()" type="button">Add tag</button>
            </div>
          </div>
        </div>
      </div>

      <div class="row">
        <div class="col-xs-12" formArrayName="nutrition">
          <div class="row" *ngFor="let stepCtrl of formSteps.controls; let i = index" [formGroupName]="i" style="margin-top: 10px;">
            <div class="col-xs-8">
              <input type="text" class="form-control" formControlName="name">
            </div>
            <div class="col-xs-2">
              <input type="number" class="form-control" formControlName="value">
            </div>
            <div class="col-xs-3">
              <button class="btn btn-danger" type="button" (click)="onDeleteStep(i)">X</button>
            </div>
          </div>
          <hr>
          <div class="row">
            <div class="col-xs-12">
              <button class="btn btn-success" (click)="onAddStep()" type="button">Add step</button>
            </div>
          </div>
        </div>
      </div>



      <div class="row">
        <div class="col-xs-12" formArrayName="ingredients">
          <div class="row" *ngFor="let ingredientCtrl of formIngredients.controls; let i = index" [formGroupName]="i" style="margin-top: 10px;">
            <div class="col-xs-8">
              <input type="text" class="form-control" formControlName="name">
            </div>
            <div class="col-xs-2">
              <input type="number" class="form-control" formControlName="amount">
            </div>
            <div class="col-xs-2">
              <button class="btn btn-danger" type="button" (click)="onDeleteIngredient(i)">X</button>
            </div>
          </div>
          <hr>
          <div class="row">
            <div class="col-xs-12">
              <button class="btn btn-success" (click)="onAddIngredient()" type="button">Add ingredient</button>
            </div>
          </div>
        </div>
      </div>


    </form>
  </div>
</div>



//this.name = name;
//this.headline = headline;
//this.description = desc;
//this.imagePath = imagePath;
//this.ingredients = ingredients;
//this.totalTime = totalTime;
//this.servingSize = servingSize;
//this.nutrition = nutrition;
//this.allergens = allergens;
this.steps = steps;
//this.tags = tags;

//this.averageRating = averageRating;
//this.ratingsCount = ratingsCount;
//this.favoritesCount = favoritesCount;
